# SharpCmd
> 写这个的目的有两个 其一是熟悉并提高设计能力，如果有读过代码的朋友很容易看到基本上和Rubeus类似(我这里还自由为是地强行用了观察者模式 😔emm 不懂就学 不然就去“死”) 其二是熟悉Windows 为以后打点基础      

> 整个项目逻辑基本不会改动了  后面会完善功能    
      
> cmd执行命令 逻辑猜想    
> conhost进程接受标准输入流 -> 发给底层condrv.sys -> cmd进程创建进程 -> 执行并将结果返回给conhost进程   
> 这里重写的其实是各个命令 cmd是一个wrapper程序负责转发输入执行并输出结果   

> 重写渗透中常常使用的进程如whoami.exe,ping,systeminfo,ipconfig等之前的思路是逆向程序 -> API调用 -> 整理逻辑 -> 完成覆写        
> 好在微软自家的这些程序并没有经过混淆这条路是可行的         
> 但是有一些坑属于于 c# 非托管操作的,部分API调用不成功,这块感谢很久之前网上公开的xp源码，确实对我实现这个帮助很大        
